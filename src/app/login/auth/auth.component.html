<div class="auth-page">
  <div class="container page">
    <div class="row">

      <div class="col-md-6 col-md-offset-3 col-xs-12">
        <h1 class="text-xs-centeremailDOM">Sign in</h1>
        <div class="alert alert-danger" *ngIf="email.invalid">
          {{email.errors | json}}
        </div>
        <form #f="ngForm" (ngSubmit)="formSubmit()">
          <fieldset class="form-group" [ngClass]="{'has-danger': email.invalid}">
            <input name="email"
                   [(ngModel)]="loginData.email"
                   #email="ngModel"
                   #emailDOM
                   pattern='^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$'
                   class="form-control form-control-lg" type="text" placeholder="Email" required minlength="4">
          </fieldset>
          <div class="alert alert-danger" *ngIf="email.invalid">
            <div *ngIf="email.errors['required']">請輸入 email</div>
            <div *ngIf="email.errors['minlength']">
              請至少輸入 {{email.errors['minlength']['requiredLength']}} 個字，已輸入 {{email.errors['minlength']['actualLength']}} 個字
            </div>
            <div *ngIf="email.errors['pattern']">
              email 格式輸入錯誤
            </div>
          </div>
          <fieldset class="form-group">
            <input name="password" [(ngModel)]="loginData.password" #password="ngModel" class="form-control form-control-lg" type="password" placeholder="Password" required minlength="4">
          </fieldset>
          <div class="alert alert-danger" *ngIf="password.invalid">
            <div *ngIf="password.errors['minlength']">
              請至少輸入 {{password.errors['minlength']['requiredLength']}} 個字，已輸入 {{password.errors['minlength']['actualLength']}} 個字
            </div>
          </div>
          <button type="button" class="btn btn-lg btn-primary pull-xs-right" (click)="doLogin()" [disabled]="f.invalid">
            Sign in
          </button>
          <button type="submit" class="btn btn-lg btn-primary pull-xs-right m-r-1" [disabled]="f.invalid">Submit</button>
        </form>
      </div>

    </div>
  </div>
</div>
